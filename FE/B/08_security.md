# 情報セキュリティ
# 01 情報セキュリティと情報セキュリティ管理
## 情報セキュリティ
目的は、**情報の機密性・完全性・可用性を維持**すること

- ISO/IEC27000: 情報セキュリティマネジメントの国際規格

- 機密性(Confidentiality): 認可されたものだけが、情報をアクセス・使用できる特性
- 完全性(Integrity): 情報・処理方法だけが、正確・完全であるという特性
- 可用性(Availability): 認可されたものが要求したときに、いつでもアクセス・使用できるという特性

- 情報セキュリティの3要素
  - 機密性
  - 完全性
  - 可用性
- プラスαとして
  - 真正性: 偽造・なりすましでなく、主張するとおりの本物であるという特性
  - 信頼性: 意図したとおりの結果が得られる特性
  - 責任追跡性: 誰が関与したかを追跡できるような特性
  - 否認防止: あとで、私じゃないと否定されないようにする特性

## 情報資産と脅威・脆弱性
- 情報資産: 資産として価値のある情報(顧客情報、知的財産、人事情報等)
- 脅威: 情報資産に対しての攻撃や危害を加えて、業務遂行に好ましくない影響を与える原因
- 脆弱性: 情報資産や管理作に内在している弱点

- セキュリティバイデザイン: システムの企画・設計段階から、情報セキュリティ対策を組み込んでおこうという考え方
- プライバシーバイデザイン: システムの企画・設計段階から、個人情報保護の仕組みを組み込んでおこうという考え方

## リスクマネジメント
情報資産に対するリスクを分析・評価し、リスク受容基準に照らして対応が必要かどうかを判断すること

3つのプロセスを順番に実施する
- リスク特定: 保護スべき情報資産において、組織に存在するリスクを洗い出す
- リスク分析: リスクの発生確率と影響度から、リスクレベルを算定する。リスクの大きさは、資産価値・脅威・脆弱性によって決まる
- リスク評価: リスクの大きさとリスク受容基準を比較して、リスク対策が必要か判断する。リスクの大きさに従って優先順位をつける

### リスク対応
リスク評価を受け、実際にどのようなリスク対応を選択するかを決定すること

- リスクコントロール
  - リスク軽減: リスクの損失額や発生確率を抑える(セキュリティ対策実施し、発生確率を抑えるなど)
  - リスク回避: リスクの原因を除去する。(リスクの大きいサービスからの撤退等)
  - リスク移転: リスクを第3者へ移転・転嫁(共有)する(問題が発生したときの損害に備え、保険加入する)
- リスクファイナンシング
  - リスク保有: 影響度が小さいので、許容範囲として保有・受容する(リスクが小さいため、問題が発生した際は、自らが負担する)

ビジネスインパクト分析: 災害などの予期せぬ自体によって、特定の業務が停止・中断した場合に、事業全体に与える影響度を分析・評価すること


## 情報セキュリティポリシ
組織内の情報セキュリティを確保するための方針や体制、対策等を包括的に定めた文書

- 基本方針: 情報セキュリティに関する基本的な方針を定めたもの
- 対策基準: 項目ごとに遵守すべき行為や判断を記述したもの
- 実施手順: 具体的にどのような手順で実施していくのかを示したもの

### 情報セキュリティ基本方針
組織のトップが、情報セキュリティに対する考え方や取り組む姿勢を組織内外に宣言すること

- 情報セキュリティ管理基準: 基本方針を策定する上で、参考にできるもの 基本的な枠組みと具体的な管理項目が規定されている
- プライバシーポリシ: 個人情報保護方針

CSIRT: 企業や官公庁などに設けるセキュリティ対策チーム

## ISMS適合評価制度
組織における情報セキュリティに対する取り組みに対して、ISMS認定基準の評価事項に適合していることを特定の第3者が審査して認定する制度

ISMS規格として、JIS Q 27000が国内の規格となっている

# 02 脅威とマルウェア
## 脅威の種類
- 物理的脅威: 災害による機器の故障、侵入者による物理的破壊や妨害行為などによる脅威
- 人的脅威: 人による脅威
  - ソーシャルエンジニアリング: 人の心理の隙をついて機密情報を入手すること
  - ショルダーハッキング: 画面の覗き見
- 技術的脅威: コンピュータウイルスやサイバー攻撃などのIT技術を使った脅威

人的脅威の対策: クリアスクリーンやクリアデスクを心がける

不正のトライアングル: 不正行為は、機会・動機・正当化の3つの条件が揃ったときに行われる。対策として、職務分掌があげられる

## マルウェア
悪意を持って作成された不正なプログラムの総称

- コンピュータウイルス: 自己伝染・潜伏・発病機能のうち、1つ以上の機能を有し、意図的に何らかの被害を及ぼす
- マクロウイルス: ワープロソフトや表計算ソフトなどのマクロ機能を悪用する
- ワーム: ネットワークやリムーバブルメディアを媒介として、自ら感染を広げる自己増殖機能をもつ
- ボット: ウイルスに感染したPCを、インターネットなどのネットワークを通じて外部から操る。外部から悪意のある命令を出すサーバを**C&Cサーバ**という
- トロイの木馬: 有益なソフトウェアと見せかけて、特定の条件になるまで活動せずに待機して、悪意のある動作をする
- スパイウェア: 利用者の意図に反して、PCにインストールされ、利用者の個人情報やアクセス履歴などの情報を収集する。
- ランサムウェア: 勝手にPCファイルを暗号化して読めなくし、戻すためのパスワードと引き換えに金銭を要求する
- キーロガー: キーボードの入力履歴を不正に記録し、利用者IDやパスワードを盗み出す
- ルートキット: バックドアを作り、侵入の痕跡を隠蔽するなどの機能を持つ不正なプログラムツール

### 端末管理
- BYOD: 私物のPCやスマートフォンなどの情報端末を業務に利用すること
- シャドーIT: 情報システム部門の許可を得ずに、私物のPCやスマートフォン、社外のクラウドサービスなどを業務につかうこと
- MDM: 企業が社員などに貸与するスマートフォンの設定やアプリケーションを一元管理する仕組み

## ウイルス対策ソフト
マルウェアを検知して、コンピュータの脅威から守り、安全性を高めるソフトの総称

**ウイルス検出方法**
- パターンマッチング方法: 検査対象と既知ウイルスのシグネチャコードと比較して、ウイルスを検出する。未知のウイルスは検知できない
- ビヘイビア方式: サンドボックスと呼ばれる仮想環境で、実際に検査対象を実行して、その挙動を監視することで、ウイルスを検出する。未知のウイルスも検知できるが、誤検知もある。

セキュリティホール: OSやソフトウェアに潜むセキュリティ上の脆弱性
- セキュリティパッチと呼ばれる、修正プログラムがベンダから提供される

- ゼロデイ攻撃: セキュリティパッチがベンダから提供される前に、セキュリティホールを利用する攻撃


# 02 サイバー攻撃
インターネットなどを通じてコンピュータシステムに侵入し、情報の盗聴や窃取、データの改ざんや破壊などのクラッキングを行う攻撃

## 標準型攻撃
特定の官公庁や企業など、標的を決めて行われる攻撃

- APT攻撃(Advansed Persistent Threat): 特定の組織を標的に、複数の手法を組合せて気づかれないよう執拗に攻撃を繰り返す。Persistentには、執拗な意味がある
- 水飲み場型攻撃: よく利用される企業などのWebサイトにウイルスを仕込み感染させる。これは、肉食動物が水飲み場に潜み、訪れる草食動物を襲う様子に由来

## パスワードクラック攻撃
パスワードを割出し、解析すること

- 辞書攻撃: 攻撃対象とする利用者IDを１つ定め、辞書にある単語やその組合せをパスワードとして、ログインを試行する。辞書にある単語をパスに設定している利用者が多いことに着目した攻撃
- ブルートフォース攻撃: 攻撃対象とする利用者IDを1つに定め、英字や数字、記号を組合せたパスを総当りして、ログインを試行する。逆によく使われるパスに絞り込んで、たくさんの利用者IDをに総当りすることを**リバースブルートフォース攻撃**と呼ぶ
- パスワードリスト攻撃: 不正に取得した他サイトの利用者IDとパスワードの一覧表を用いて、ログインを試行する。

**パスワードクラック対策**: パスワードを使い回さないこと!

## サービスを妨害する攻撃
- Dos攻撃: 特定のサーバなどに大量のパケットを送りつけることで想定以上の付加を与え、サーバの機能を停止させる攻撃。
- DDos攻撃: 複数のサーバなどから一斉に攻撃する 

**Dos, DDos攻撃対策**
- IDS: 不正な通信を検知して、管理者に通報する
- IPS: 検知だけでなく、遮断まで行う

## 不正な命令による攻撃

### クロスサイトスクリプティング
攻撃者が用意した有害な文字列を、利用者のWebブラウザを介して脆弱なWebサイトに送り込み、利用者のWebブラウザ上で実行させる攻撃

- 対策
  - サニタイジング: 有害な入力の無力化

### SQLインジェクション
脆弱性のあるWebアプリケーションの入力領域に、攻撃者が悪意のある問合せや操作を行う命令文を注入することで、管理者の意図していないSQL文を実行させる攻撃

- 対策
  - サニタイジング: 有害な入力の無力化
  - WAF: Webアプリケーション用のファイアウォール

## なりすまし攻撃
- セッションハイジャック: 利用者がWebサイトなどにログインすると、セッションの識別するIDがWebサーバから払い出され、ログアウトまで維持される。このセッションIDを攻撃者が窃取して、正規利用者になりすます
- DNSキャッシュポイズニング: PCが参照するDNSサーバに偽のドメイン情報を注入して、利用者を偽装されたサーバに誘導。
- SEOポイズニング: 検索サイトの順位付けアルゴリズムを悪用し、悪意のあるWebサイトが検索結果の上位に表示されるようにする
- IPスプーフィング: 送信元IPアドレスを詐称して、標的のネットワーク上のホストになりすまして接続する。
- 公衆無線LANで、正規のアクセスポイントになりすまし、より強い電波で利用者を偽装アクセスポイントに誘導

### ディレクトリトラバーサル
攻撃者が、パス名を使ってファイルを指定し、管理者の意図していないファイルを不正に閲覧する攻撃

## その他の攻撃
- ドライブバイダウンロード: Webサイトを閲覧したときに、利用者の意図にかかわらず、PCにマルウェアをダウンロードさせて感染させる
- フィッシング: 実在する会社などを装って、電子メールを送信し、偽のWebサイトに誘導し、個人情報をだまし取る
- バッファオーバフロー攻撃: プログラムが用意している入力用のデータ領域を超えるサイズのデータを入力することで、想定外の動作をさせる。
- クリックジャッキング攻撃: 罠サイトのコンテンツ上に著名なサイトのボタンを透明化して配置し、意図しない操作をさせる。

Webビーコン: Webページなどに埋め込まれた小さな画像

## 攻撃の準備
- フットプリンティング: サイバー攻撃を行う前に行う情報収集
  - ポートスキャン: 開放されている攻撃できそうなサービスがあるか調査する行為

デジタルフォレンジクス: コンピュータ犯罪の証拠となる電子データを集め、解析すること

# 04 暗号技術
## ネットワーク上の脅威
- 盗聴: 第３者が送信者から受信者への送信されたデータを読み取る
- なりすまし: 第３者が、送信者を装って、受信者へのデータを送信する
- 改ざん: 第３者が、送信者から受信者へ送信されたデータを書き換える

## データの暗号化
人が容易に解読できる平文を[暗号化アルゴリズム]と[暗号化鍵]を使って、容易に解読できない暗号文に変換すること

- 復号: [復号アルゴリズム]と[復号鍵]を使って、平文に戻すこと

## 暗号方式
### 共通鍵暗号方式
暗号化鍵と復号鍵が共通の暗号方式

- 送信者: 共通の秘密鍵で暗号化
- 受信者: 共通の秘密鍵で復号化

- 特徴
  - 暗号化鍵と復号鍵は共通 鍵の配布と管理に注意
  - 共通の秘密鍵で暗号化して、共通の秘密鍵で復号する
  - 暗号化/復号で処理が速い **AES**

### 公開鍵暗号方式
暗号化鍵と復号鍵が異なる暗号方式

- 送信者: 受信者の公開鍵で暗号化
- 受信者: 受信者の秘密鍵で復号する

- 特徴
  - 暗号化鍵と復号鍵は異なる 鍵の配布と管理が容易
  - 受信者の公開鍵で暗号化して、受信者の秘密鍵で復号する
  - 暗号化/復号の処理が遅い **RSA/楕円曲線暗号**

## デジタル署名(電子署名)
[送信者が本人であるかを受信者が確認できる]と同時に、[電子文書の内容が改ざんされていないことを受信者が確認できる]というしくみ

- 送信者の秘密鍵で暗号化
- 送信者の公開鍵で復号する

- 送信者の処理
  - 電子文書からハッシュ関数で文字列を作成
  - 作成した文字列を[送信者の秘密鍵]で暗号化、デジタル署名を作成
  - 電子文書に暗号化したデジタル署名を付加して送信する

- 受信者の処理
  - 電子文書から送信者と同じハッシュ関数で文字列を作成
  - デジタル署名を[送信者の公開鍵]で復号する。送信者が本人であることを確認できる
  - 上記の処理で得られた文字列を比較して同一である。電子文書の内容が改ざんされてないことを確認

- **ハッシュ化**: 電子文字列から文字列を作成することを**ハッシュ化**と呼ぶ。代表的なハッシュ関数は**SHA-256**などがある

# 05 認証技術
## 認証局(CA)
取引当事者から独立した信頼できる第三者機関のやくめを果たし、本人からの申請に基づいてデジタル証明書を発行して、公開鍵の正当性を証明する

デジタル証明書の有効期限内に失効させた証明書の一覧表も発行する

## PKI
認証局や公開鍵暗号方式、デジタル署名などの仕組みを使って、インターネット上で安全な通信ができるセキュリティ基盤

## メッセージ認証
共通鍵を用いて、メッセージの内容が改ざんされていないことを確認する仕組み

- 事前準備として、送信者と受信者で共通鍵を秘密裏に共有する
- 送信者の処理
  - メッセージと共通鍵をもとに、ハッシュ関数を用いて**メッセージ認証コード(MAC)**を生成する
  - 送信者は、メッセージとMACを受信者へ送信する
- 受信者の処理
  - 受信したメッセージと共通鍵をもとに、同じハッシュ関数を用いて**メッセージ認証(MAC)**を生成する
  - 受信者は、送信者から送信されたMACと生成したMACとが一致するか検証する

## SSL
- SSL: インターネット上での通信を暗号化して、盗聴や改ざんを防ぐ仕組み
- HTTPS: SSLの暗号通信をHTTPに実装したもの
- TLS: SSLをベースに標準化したもの。SSLとほぼ同じ

ハイブリッド方式: 共通鍵暗号方式と公開鍵暗号方式の両者の特徴を組合せた方式

セキュアブート: PCの起動時にOSやドライバの署名を確認することで、OSを起動前のマルウェアの実行を防ぐ

TPM: PCなどに組み込むセキュリティチップ

# 06 利用者認証とネットワークセキュリティ
## 利用者認証
コンピュータシステムを使用するときに、利用者が使用することを許可されている本人であるかを確認すること(ユーザ認証とも呼ばれる)

最近は多要素認証も多い
- 記憶認証
- 所有物認証
- 生体情報認証

これらの2つを組合せて、**二要素認証**とよぶ

### バイオメトリクス認証
身体的な特徴を使った認証と行動的な特徴を使った認証 指紋認証、静脈認証等

CAPTCHA: ゆがめたり一部を隠したりした画像から文字を判読させて入力させること

### チャレンジレスポンス認証
利用者が入力したパスワードと、サーバから送られてきたランダムな文字列(チャレンジ)とをPC側でハッシュ演算し、その結果(レスポンス)をサーバに送信する認証

- IDとパスを入力。IDのみサーバに添付
- サーバは、文字列(チャレンジ)をランダム生成し、PCに送付
- パスワードと送付されたチャレンジから、ハッシュ関数を用いてハッシュ値(レスポンス)を生成し、サーバに返送
- サーバは、利用者IDからアカウント情報を検索し、結果のパスワードと生成したチャレンジから、同じハッシュ関数を用いてハッシュ値を生成 
- 上記のレスポンスとハッシュ値を照合して、ログインする

### シングルサインオン
利用者は最初に1回だけ認証を受ければ、ログアウトするまでの間は、許可されている複数のサービスを利用できる仕組み

## ファイアウォール
外部ネットワークと内部ネットワークの接続点において、通信通過の可否を判断して、外部からの不正アクセスを防止する仕組み

### パケットフィルタリング方式
パケットのヘッダ情報で判断し、通信通過の可否を決定する方式

## DMZ
外部ネットワークと内部ネットワークの両方から隔離された区域(セグメント)

WebサーバとDNSサーバをDMSにおいて、インターネットからアクセスできるようにする

DBサーバは、直接アクセスできないように内部ネットワークに配置する DMZと内部ネットワークは特定のプロトコルだけ許可して、インターネットと内部ネットワークはファイアウォールであくせすできないようにする

### プロキシサーバ・リバースプロキシサーバ
- プロキシサーバ: PCの代理では外部ネットワークにアクセスするサーバ
- リバースプロキシサーバ: 外部からのアクセスをWebサーバの代理で受けるサーバ

## その他のセキュリティ対策
- UTM(Untitled Threat Management): ファイアウォール機能を有し、ウイルス対策や侵入検知などを連携させ、複数のセキュリティ機能を1台の筐体に統合した製品
- SIEM(Security Information and Event Management): システムの動作ログを一元的に蓄積・管理し、サイバー攻撃などのセキュリティ上の脅威となる事象をいち早く検知して分析するツール
- ペネトレーションテスト: システムを実際に攻撃して、ファイアウォールや公開サーバに対するセキュリティホールや設定ミスの有無を確認する検査手法
- ファジリング: システムに問題を引き起こしそうなデータを、多様なパターンで大量に入力して挙動を観察し、脆弱性を見つける検査手法
